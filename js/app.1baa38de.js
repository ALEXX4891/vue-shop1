(function(){var t={3737:function(t,e,a){"use strict";var r=a(9963),o=a(6252);const s={class:"header"},l={class:"header__wrapper container"},i=(0,o._)("span",{class:"header__info"},"Каталог",-1),c=(0,o._)("a",{class:"header__logo",href:"#"},[(0,o._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),n=(0,o._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1),u=(0,o.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer>',1);function d(t,e,a,r,d,_){const p=(0,o.up)("CartIndicator"),m=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("header",s,[(0,o._)("div",l,[i,c,n,(0,o.Wm)(p)])]),(0,o.Wm)(m),u])}var _=a(3577);const p=(0,o._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-cart"})],-1),m={class:"header__count","aria-label":"Количество товаров"};function h(t,e,a,r,s,l){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(i,{class:"header__cart",href:"cart.html","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,o.w5)((()=>[p,(0,o._)("span",m,(0,_.zw)(t.$store.state.cartProducts.length),1)])),_:1})}var f={},g=a(3744);const b=(0,g.Z)(f,[["render",h]]);var k=b,v=a(3907),y={components:{CartIndicator:k},created(){const t=localStorage.getItem("userAccessKey");t&&this.updatUserAccessKey(t),this.loadCart()},methods:{...(0,v.nv)(["loadCart"]),...(0,v.OI)(["updatUserAccessKey"])}};const w=(0,g.Z)(y,[["render",d]]);var P=w,C=a(2119),D=a.p+"img/__Iphone-spinner-1.3f841a9b.gif";const I={class:"content container"},F=(0,o._)("div",{class:"content__top content__top--catalog"},[(0,o._)("h1",{class:"content__title"},"Каталог"),(0,o._)("span",{class:"content__info"}," 152 товара ")],-1),A={class:"content__catalog"},V={class:"catalog"},z=(0,o.Uk)("Загрузка товаров, подождите... "),T=(0,o._)("img",{src:D,alt:"прелоадер"},null,-1),$=[z,T],U={key:0},x=(0,o.Uk)(" Произошла ошибка при загрузке товаров... ");function K(t,e,a,s,l,i){const c=(0,o.up)("ProductFilter"),n=(0,o.up)("ProductList"),u=(0,o.up)("BasePagination");return(0,o.wg)(),(0,o.iD)("main",I,[F,(0,o._)("div",A,[(0,o.Wm)(c,{"price-from":l.filterPriceFrom,"onUpdate:price-from":e[0]||(e[0]=t=>l.filterPriceFrom=t),"price-to":l.filterPriceTo,"onUpdate:price-to":e[1]||(e[1]=t=>l.filterPriceTo=t),"category-id":l.filterCategoryId,"onUpdate:category-id":e[2]||(e[2]=t=>l.filterCategoryId=t),"color-id":l.filterColorId,"onUpdate:color-id":e[3]||(e[3]=t=>l.filterColorId=t)},null,8,["price-from","price-to","category-id","color-id"]),(0,o._)("section",V,[(0,o.wy)((0,o._)("div",null,$,512),[[r.F8,this.productsLoading]]),this.productsLoadingFailed?((0,o.wg)(),(0,o.iD)("div",U,[x,(0,o._)("button",{onClick:e[4]||(e[4]=(0,r.iM)(((...t)=>i.loadPRoducts&&i.loadPRoducts(...t)),["prevent"]))}," Пропробовать еще раз ")])):(0,o.kq)("",!0),this.productsLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(n,{key:1,products:i.products},null,8,["products"])),(0,o.Wm)(u,{modelValue:l.page,"onUpdate:modelValue":e[5]||(e[5]=t=>l.page=t),count:i.countProducts,"per-page":l.productsPerPage},null,8,["modelValue","count","per-page"])])])])}const E={class:"catalog__list"};function L(t,e,a,r,s,l){const i=(0,o.up)("ProductItem");return(0,o.wg)(),(0,o.iD)("ul",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.products,(t=>((0,o.wg)(),(0,o.j4)(i,{product:t,key:t.id},null,8,["product"])))),128))])}const M={class:"catalog__item"},O=["src","alt"],Z={class:"catalog__title"},W={class:"catalog__price"},S={class:"colors colors--black"},q={class:"colors__label"},j=["value"];function B(t,e,a,s,l,i){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("li",M,[(0,o.Wm)(c,{class:"catalog__pic",to:{name:"product",params:{id:a.product.id}}},{default:(0,o.w5)((()=>[(0,o._)("img",{src:a.product.image,alt:a.product.title},null,8,O)])),_:1},8,["to"]),(0,o._)("h3",Z,[(0,o.Wm)(c,{to:{name:"product",params:{id:a.product.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,_.zw)(a.product.title),1)])),_:1},8,["to"])]),(0,o._)("span",W,(0,_.zw)(i.priceFormat)+" ₽ ",1),(0,o._)("ul",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.product.colors,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:t.id},[(0,o._)("label",q,[(0,o.wy)((0,o._)("input",{class:"colors__radio sr-only",type:"radio",value:"#73B6EA",checked:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.color=t)},null,512),[[r.G2,l.color]]),(0,o._)("span",{class:"colors__value",style:(0,_.j5)(`background-color: ${t.code}`),value:t.id},null,12,j)])])))),128))])])}function R(t){return(new Intl.NumberFormat).format(t)}var H={data(){return{color:"#73B6EA"}},name:"ProductItem",props:["product"],computed:{priceFormat(){return R(this.product.price)}}};const Y=(0,g.Z)(H,[["render",B]]);var N=Y,G={name:"ProductList",components:{ProductItem:N},props:["products"]};const Q=(0,g.Z)(G,[["render",L]]);var X=Q;const J={class:"catalog__pagination pagination"},tt={class:"pagination__item"},et=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-left"})],-1),at=[et],rt=["onClick"],ot={class:"pagination__item"},st=(0,o._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-arrow-right"})],-1),lt=[st];function it(t,e,a,s,l,i){return(0,o.wg)(),(0,o.iD)("ul",J,[(0,o._)("li",tt,[(0,o._)("a",{href:"#",class:(0,_.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===i.page}]),"aria-label":"Предыдущая страница",onClick:e[0]||(e[0]=(0,r.iM)((t=>i.paginatePrev()),["prevent"]))},at,2)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.pages,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"pagination__item",key:t},[(0,o._)("a",{href:"#",class:(0,_.C_)(["pagination__link",{"pagination__link--current":t===i.page}]),onClick:(0,r.iM)((e=>i.paginate(t)),["prevent"])},(0,_.zw)(t),11,rt)])))),128)),(0,o._)("li",ot,[(0,o._)("a",{class:(0,_.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":i.page===i.pages}]),href:"#","aria-label":"Следующая страница",onClick:e[1]||(e[1]=(0,r.iM)((t=>i.paginateNext()),["prevent"]))},lt,2)])])}var ct={props:["modelValue","count","perPage"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/this.perPage)}},methods:{paginate(t){this.$emit("update:modelValue",t)},paginatePrev(){this.modelValue>1&&this.$emit("update:modelValue",this.modelValue-1)},paginateNext(){this.modelValue<this.pages&&this.$emit("update:modelValue",this.modelValue+1)}}};const nt=(0,g.Z)(ct,[["render",it]]);var ut=nt;const dt={class:"filter"},_t=(0,o._)("h2",{class:"filter__title"},"Фильтры",-1),pt={class:"form__block"},mt=(0,o._)("legend",{class:"form__legend"},"Цена",-1),ht={class:"form__label form__label--price"},ft=(0,o._)("span",{class:"form__value"},"От",-1),gt={class:"form__label form__label--price"},bt=(0,o._)("span",{class:"form__value"},"До",-1),kt={class:"form__block"},vt=(0,o._)("legend",{class:"form__legend"},"Категория",-1),yt={class:"form__label form__label--select"},wt=(0,o._)("option",{value:"0"},"Все категории",-1),Pt=["value"],Ct={class:"form__block"},Dt=(0,o._)("legend",{class:"form__legend"},"Цвет",-1),It={class:"colors"},Ft={class:"colors__label"},At=["value"],Vt=["value"],zt=(0,o.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ</legend><ul class="check-list"><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="8" checked=""><span class="check-list__desc"> 8 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="16"><span class="check-list__desc"> 16 <span>(461)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="32"><span class="check-list__desc"> 32 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="64"><span class="check-list__desc"> 64 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="128"><span class="check-list__desc"> 128 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="264"><span class="check-list__desc"> 264 <span>(313)</span></span></label></li></ul></fieldset><button class="filter__submit button button--primery" type="submit">Применить</button>',2);function Tt(t,e,a,s,l,i){return(0,o.wg)(),(0,o.iD)("aside",dt,[_t,(0,o._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[5]||(e[5]=(0,r.iM)(((...t)=>i.submit&&i.submit(...t)),["prevent"]))},[(0,o._)("fieldset",pt,[mt,(0,o._)("label",ht,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=t=>l.currentPriceFrom=t)},null,512),[[r.nr,l.currentPriceFrom,void 0,{number:!0}]]),ft]),(0,o._)("label",gt,[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=t=>l.currentPriceTo=t)},null,512),[[r.nr,l.currentPriceTo,void 0,{number:!0}]]),bt])]),(0,o._)("fieldset",kt,[vt,(0,o._)("label",yt,[(0,o.wy)((0,o._)("select",{class:"form__select",type:"text",name:"category","onUpdate:modelValue":e[2]||(e[2]=t=>l.currentCategoryId=t)},[wt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.categories,(t=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:t.id},(0,_.zw)(t.title),9,Pt)))),128))],512),[[r.bM,l.currentCategoryId,void 0,{number:!0}]])])]),(0,o._)("fieldset",Ct,[Dt,(0,o._)("ul",It,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.colors,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:t.id},[(0,o._)("label",Ft,[(0,o.wy)((0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",value:t.id,checked:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.currentColorId=t)},null,8,At),[[r.G2,l.currentColorId,void 0,{number:!0}]]),(0,o._)("span",{class:"colors__value",style:(0,_.j5)(`background-color: ${t.code}`),value:t.id},null,12,Vt)])])))),128))])]),zt,(0,o._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[4]||(e[4]=(0,r.iM)(((...t)=>i.reset&&i.reset(...t)),["prevent"]))},"Сбросить")],32)])}var $t=a(6154);const Ut="https://vue-study.skillbox.cc";var xt={data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColorId:0,categoriesData:null,colorsData:null}},props:["priceFrom","priceTo","categoryId","colorId"],computed:{categories(){return this.categoriesData?this.categoriesData.items:[]},colors(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom(t){this.currentPriceFrom=t},priceTo(t){this.currentPriceTo=t},categoryId(t){this.currentCategoryId=t},colorId(t){this.currentColorId=t}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorId",this.currentColorId)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:colorId",0)},loadCategoriesData(){$t.Z.get(`${Ut}/api/productCategories`).then((t=>{this.categoriesData=t.data}))},loadColorsData(){$t.Z.get(`${Ut}/api/colors`).then((t=>{this.colorsData=t.data}))}},created(){this.loadCategoriesData(),this.loadColorsData()}};const Kt=(0,g.Z)(xt,[["render",Tt]]);var Et=Kt,Lt={components:{ProductList:X,BasePagination:ut,ProductFilter:Et},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:0,filterColorId:0,page:1,productsPerPage:3,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){return this.productsData?this.productsData.items.map((t=>({...t,image:t.image.file.url}))):[]},countProducts(){return this.productsData?this.productsData.pagination.total:0}},methods:{loadPRoducts(){this.productsLoading=!0,this.productsLoadingFailed=!1,clearTimeout(this.loadPRoductsTimer),this.loadPRoductsTimer=setTimeout((()=>{$t.Z.get(`${Ut}/api/products`,{params:{page:this.page,limit:this.productsPerPage,categoryId:this.filterCategoryId,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo,colorId:this.filterColorId}}).then((t=>{this.productsData=t.data})).catch((()=>{this.productsLoadingFailed=!0})).then((()=>{this.productsLoading=!1}))}),0)}},watch:{page(){this.loadPRoducts()},filterPriceFrom(){this.loadPRoducts()},filterPriceTo(){this.loadPRoducts()},filterCategoryId(){this.loadPRoducts()},filterColorId(){this.loadPRoducts()}},created(){this.loadPRoducts()}};const Mt=(0,g.Z)(Lt,[["render",K]]);var Ot=Mt;function Zt(t,e,a,r,s,l){return(0,o.wg)(),(0,o.iD)("h1",null,"Ошибка. Страница не найдена.")}var Wt={};const St=(0,g.Z)(Wt,[["render",Zt]]);var qt=St;const jt={key:0,class:"content container"},Bt=(0,o._)("img",{src:D,alt:"прелоадер"},null,-1),Rt=(0,o.Uk)(" загрузка... "),Ht=[Bt,Rt],Yt={key:1,class:"content container"},Nt=(0,o.Uk)("Произошла ошибка при загрузке товара... "),Gt={key:2,class:"content container"},Qt={class:"content__top"},Xt={class:"breadcrumbs"},Jt={class:"breadcrumbs__item"},te=(0,o.Uk)(" Каталог "),ee={class:"breadcrumbs__item"},ae={class:"breadcrumbs__item"},re={class:"breadcrumbs__link"},oe={class:"item"},se={class:"item__pics pics"},le={class:"pics__wrapper"},ie=["src","alt"],ce={class:"item__info"},ne={class:"item__code"},ue={class:"item__title"},de={class:"item__form"},_e={class:"item__price"},pe={class:"form__block"},me=(0,o._)("legend",{class:"form__legend"},"Цвет:",-1),he={class:"colors"},fe={class:"colors__label"},ge=["value"],be=["value"],ke=(0,o.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ:</legend><ul class="sizes sizes--primery"><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="32"><span class="sizes__value"> 32gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="64"><span class="sizes__value"> 64gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="128" checked=""><span class="sizes__value"> 128gb </span></label></li></ul></fieldset>',1),ve={class:"item__row"},ye=["disabled"],we=(0,o.uE)('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это?</h3><p> Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function Pe(t,e,a,s,l,i){const c=(0,o.up)("router-link"),n=(0,o.up)("plusMinus");return(0,o.wg)(),(0,o.iD)("div",null,[l.productLoading?((0,o.wg)(),(0,o.iD)("main",jt,Ht)):l.productData?((0,o.wg)(),(0,o.iD)("main",Gt,[(0,o._)("div",Qt,[(0,o._)("ul",Xt,[(0,o._)("li",Jt,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[te])),_:1})]),(0,o._)("li",ee,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,_.zw)(i.category.title),1)])),_:1})]),(0,o._)("li",ae,[(0,o._)("a",re,(0,_.zw)(i.product.title),1)])])]),(0,o._)("section",oe,[(0,o._)("div",se,[(0,o._)("div",le,[(0,o._)("img",{width:"570",height:"570",src:i.product.image.file.url,alt:i.product.title},null,8,ie)])]),(0,o._)("div",ce,[(0,o._)("span",ne,"Артикул: "+(0,_.zw)(i.product.id),1),(0,o._)("h2",ue,(0,_.zw)(i.product.title),1),(0,o._)("div",de,[(0,o._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[2]||(e[2]=(0,r.iM)(((...t)=>i.addToCart&&i.addToCart(...t)),["prevent"]))},[(0,o._)("b",_e,(0,_.zw)(i.priceFormat)+" ₽ ",1),(0,o._)("fieldset",pe,[me,(0,o._)("ul",he,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.product.colors,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:t.id},[(0,o._)("label",fe,[(0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:t.id,checked:""},null,8,ge),(0,o._)("span",{class:"colors__value",style:(0,_.j5)(`background-color: ${t.code}`),value:t.id},null,12,be)])])))),128))])]),ke,(0,o._)("div",ve,[(0,o.Wm)(n,{modelValue:l.productAmount,"onUpdate:modelValue":e[1]||(e[1]=t=>l.productAmount=t)},null,8,["modelValue"]),(0,o._)("button",{class:"button button--primery",type:"submit",disabled:l.productAddSending}," В корзину ",8,ye)]),(0,o.wy)((0,o._)("div",null,"Товар добавлен в корзину",512),[[r.F8,l.productAdded]]),(0,o.wy)((0,o._)("div",null,"Добавляем товар в корзину",512),[[r.F8,l.productAddSending]])],32)])]),we])])):((0,o.wg)(),(0,o.iD)("main",Yt,[Nt,(0,o._)("button",{onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>i.loadProduct&&i.loadProduct(...t)),["prevent"]))}," Пропробовать еще раз ")]))])}const Ce={class:"form__counter"},De=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),Ie=[De],Fe={key:1,type:"button","aria-label":"Убрать один товар"},Ae=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),Ve=[Ae],ze=(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),Te=[ze];function $e(t,e,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Ce,[a.modelValue>1?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button",type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>i.minusProduct&&i.minusProduct(...t)),["prevent"]))},Ie)):((0,o.wg)(),(0,o.iD)("button",Fe,Ve)),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.amount=t)},null,512),[[r.nr,i.amount,void 0,{number:!0}]]),(0,o._)("button",{class:"button",type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,r.iM)(((...t)=>i.plusProduct&&i.plusProduct(...t)),["prevent"]))},Te)])}var Ue={props:["modelValue"],methods:{minusProduct(){this.$emit("update:modelValue",this.modelValue-1)},plusProduct(){this.$emit("update:modelValue",this.modelValue+1)}},computed:{amount:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}};const xe=(0,g.Z)(Ue,[["render",$e]]);var Ke=xe,Ee={data(){return{productAmount:1,productData:null,productLoading:!1,productLoadingFailed:!1,productAdded:!1,productAddSending:!1}},components:{plusMinus:Ke},computed:{product(){return this.productData},category(){return this.productData.category},priceFormat(){return R(this.product.price)}},methods:{...(0,v.nv)(["addProductToCart"]),addToCart(){this.productAdded=!1,this.productAddSending=!0,this.addProductToCart({productId:this.product.id,amount:this.productAmount}).then((()=>{this.productAdded=!0,this.productAddSending=!1}))},loadProduct(){this.productLoading=!0,this.productLoadingFailed=!1,$t.Z.get(`${Ut}/api/products/${this.$route.params.id}`).then((t=>{this.productData=t.data})).catch((()=>{this.productLoadingFailed=!0})).then((()=>{this.productLoading=!1}))}},created(){this.loadProduct()},beforeRouteUpdate(){this.loadProduct()}};const Le=(0,g.Z)(Ee,[["render",Pe]]);var Me=Le;const Oe={class:"content container"},Ze={class:"content__top"},We={class:"breadcrumbs"},Se={class:"breadcrumbs__item"},qe=(0,o.Uk)(" Каталог "),je=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Корзина ")],-1),Be=(0,o._)("h1",{class:"content__title"}," Корзина ",-1),Re={key:0,class:"content__info"},He={key:1,class:"content__info"},Ye={key:2,class:"content__info"},Ne={class:"cart"},Ge={class:"cart__form form",action:"#",method:"POST"},Qe={class:"cart__field"},Xe={class:"cart__list"},Je={class:"cart__block"},ta=(0,o._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),ea={class:"cart__price"},aa=(0,o.Uk)(" Итого: "),ra=["disabled","onClick"];function oa(t,e,a,r,s,l){const i=(0,o.up)("router-link"),c=(0,o.up)("CartItem");return(0,o.wg)(),(0,o.iD)("main",Oe,[(0,o._)("div",Ze,[(0,o._)("ul",We,[(0,o._)("li",Se,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[qe])),_:1})]),je]),Be,1==t.totalAmount?((0,o.wg)(),(0,o.iD)("span",Re,(0,_.zw)(t.totalAmount)+" товар ",1)):(0,o.kq)("",!0),t.totalAmount>1&t.totalAmount<5?((0,o.wg)(),(0,o.iD)("span",He,(0,_.zw)(t.totalAmount)+" товара ",1)):(0,o.kq)("",!0),t.totalAmount>=5?((0,o.wg)(),(0,o.iD)("span",Ye,(0,_.zw)(t.totalAmount)+" товаров ",1)):(0,o.kq)("",!0)]),(0,o._)("section",Ne,[(0,o._)("form",Ge,[(0,o._)("div",Qe,[(0,o._)("ul",Xe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,(t=>((0,o.wg)(),(0,o.j4)(c,{key:t.productId,item:t},null,8,["item"])))),128))])]),(0,o._)("div",Je,[ta,(0,o._)("p",ea,[aa,(0,o._)("span",null,(0,_.zw)(l.totalPriceFormat)+" ₽",1)]),(0,o.Wm)(i,{to:{name:"order"},custom:""},{default:(0,o.w5)((({navigate:e})=>[(0,o._)("button",{class:"cart__button button button--primery",type:"submit",disabled:!t.totalAmount,onClick:e}," Оформить заказ ",8,ra)])),_:1})])])])])}const sa={class:"cart__item product"},la={class:"product__pic"},ia=["src","alt"],ca={class:"product__title"},na={class:"product__code"},ua={class:"product__counter form__counter"},da=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),_a=[da],pa={key:1,type:"button","aria-label":"Убрать один товар"},ma=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1),ha=[ma],fa=(0,o._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1),ga=[fa],ba={class:"product__price"},ka=(0,o._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-close"})],-1),va=[ka];function ya(t,e,a,s,l,i){return(0,o.wg)(),(0,o.iD)("li",sa,[(0,o._)("div",la,[(0,o._)("img",{src:a.item.product.image,width:"120",height:"120",alt:a.item.product.title},null,8,ia)]),(0,o._)("h3",ca,(0,_.zw)(a.item.product.title),1),(0,o._)("span",na," Артикул: "+(0,_.zw)(a.item.product.id),1),(0,o._)("div",ua,[i.amount>1?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button",type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,r.iM)((t=>i.amount--),["prevent"]))},_a)):((0,o.wg)(),(0,o.iD)("button",pa,ha)),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.amount=t),name:"count"},null,512),[[r.nr,i.amount,void 0,{number:!0}]]),(0,o._)("button",{class:"button",type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,r.iM)((t=>i.amount++),["prevent"]))},ga)]),(0,o._)("b",ba,(0,_.zw)(i.totalPriceFormat)+" ₽ ",1),(0,o._)("button",{class:"product__del button-del button",type:"button","aria-label":"Удалить товар из корзины",onClick:e[3]||(e[3]=(0,r.iM)(((...t)=>i.deleteProduct&&i.deleteProduct(...t)),["prevent"]))},va)])}var wa={props:["item"],computed:{totalPriceFormat(){return R(this.item.amount*this.item.product.price)},amount:{get(){return this.item.amount},set(t){this.$store.dispatch("updateCartProductsAmount",{productId:this.item.productId,amount:t})}}},methods:{...(0,v.nv)(["deleteFromCartProduct"]),deleteProduct(){this.deleteFromCartProduct(this.item.productId)}}};const Pa=(0,g.Z)(wa,[["render",ya]]);var Ca=Pa,Da={computed:{...(0,v.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice",totalAmount:"cartTotalAmount"}),totalPriceFormat(){return R(this.totalPrice)}},components:{CartItem:Ca}};const Ia=(0,g.Z)(Da,[["render",oa]]);var Fa=Ia;const Aa={class:"content container"},Va={class:"content__top"},za={class:"breadcrumbs"},Ta={class:"breadcrumbs__item"},$a=(0,o.Uk)(" Каталог "),Ua={class:"breadcrumbs__item"},xa=(0,o.Uk)(" Корзина "),Ka=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),Ea=(0,o._)("h1",{class:"content__title"},"Корзина",-1),La=(0,o._)("span",{class:"content__info"}," 3 товара ",-1),Ma={class:"cart"},Oa={class:"cart__field"},Za={class:"cart__data"},Wa=(0,o._)("img",{src:D,alt:"прелоадер"},null,-1),Sa=(0,o.Uk)(" загрузка... "),qa=[Wa,Sa],ja={class:"cart__data"},Ba=(0,o.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),Ra={class:"cart__block"},Ha={class:"cart__orders"},Ya={class:"cart__total"},Na=(0,o._)("p",null,[(0,o.Uk)("Доставка: "),(0,o._)("b",null,"500 ₽")],-1),Ga=(0,o.Uk)("Итого: "),Qa=(0,o.Uk)(" товара на сумму "),Xa=(0,o._)("button",{class:"cart__button button button--primery",type:"submit"},"Оформить заказ",-1),Ja={key:0,class:"cart__error form__error-block"},tr=(0,o._)("h4",null,"Заявка не отправлена!",-1);function er(t,e,a,s,l,i){const c=(0,o.up)("router-link"),n=(0,o.up)("BaseFormText"),u=(0,o.up)("BaseFormTextarea"),d=(0,o.up)("CartItemForOrder");return(0,o.wg)(),(0,o.iD)("main",Aa,[(0,o._)("div",Va,[(0,o._)("ul",za,[(0,o._)("li",Ta,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[$a])),_:1})]),(0,o._)("li",Ua,[(0,o.Wm)(c,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,o.w5)((()=>[xa])),_:1})]),Ka]),Ea,La]),(0,o._)("section",Ma,[(0,o._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,r.iM)(((...t)=>i.order&&i.order(...t)),["prevent"]))},[(0,o._)("div",Oa,[(0,o.wy)((0,o._)("div",Za,qa,512),[[r.F8,l.cartLoding]]),(0,o._)("div",ja,[(0,o.Wm)(n,{title:"ФИО",modelValue:l.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.formData.name=t),error:l.formError.name,placeholder:"Введите ваше полное имя"},null,8,["modelValue","error"]),(0,o.Wm)(n,{title:"Адрес доставки",modelValue:l.formData.address,"onUpdate:modelValue":e[1]||(e[1]=t=>l.formData.address=t),error:l.formError.address,placeholder:"Введите ваш адрес"},null,8,["modelValue","error"]),(0,o.Wm)(n,{title:"Телефон",modelValue:l.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=t=>l.formData.phone=t),error:l.formError.phone,placeholder:"Введите ваш телефон"},null,8,["modelValue","error"]),(0,o.Wm)(n,{title:"Email",modelValue:l.formData.email,"onUpdate:modelValue":e[3]||(e[3]=t=>l.formData.email=t),error:l.formError.email,placeholder:"Введи ваш Email"},null,8,["modelValue","error"]),(0,o.Wm)(u,{title:"Комментарий к заказу",modelValue:l.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=t=>l.formData.comment=t),error:l.formError.comment,placeholder:"Ваши пожелания"},null,8,["modelValue","error"])]),Ba]),(0,o._)("div",Ra,[(0,o._)("ul",Ha,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.products,(t=>((0,o.wg)(),(0,o.j4)(d,{key:t.productId,item:t},null,8,["item"])))),128))]),(0,o._)("div",Ya,[Na,(0,o._)("p",null,[Ga,(0,o._)("b",null,(0,_.zw)(t.totalAmount),1),Qa,(0,o._)("b",null,(0,_.zw)(i.totalPriceFormat)+" ₽",1)])]),Xa]),l.formErrorMessage?((0,o.wg)(),(0,o.iD)("div",Ja,[tr,(0,o._)("p",null,(0,_.zw)(l.formErrorMessage),1)])):(0,o.kq)("",!0)],32)])])}a(7658);const ar=["placeholder"];function rr(t,e,a,s,l,i){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:t.title,error:t.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{class:"form__input",type:"text",placeholder:t.placeholder,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e)},null,8,ar),[[r.nr,t.dataValue]])])),_:1},8,["title","error"])}const or={class:"form__label"},sr={class:"form__value"},lr={key:0,class:"form__error"};function ir(t,e,a,r,s,l){return(0,o.wg)(),(0,o.iD)("label",or,[(0,o.WI)(t.$slots,"default"),(0,o._)("span",sr,(0,_.zw)(a.title),1),a.error?((0,o.wg)(),(0,o.iD)("span",lr,(0,_.zw)(a.error),1)):(0,o.kq)("",!0)])}var cr={props:["title","error"]};const nr=(0,g.Z)(cr,[["render",ir]]);var ur=nr,dr={props:["title","error","placeholder","modelValue"],computed:{dataValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},components:{BaseFormField:ur}},_r={mixins:[dr]};const pr=(0,g.Z)(_r,[["render",rr]]);var mr=pr;const hr=["placeholder"];function fr(t,e,a,s,l,i){const c=(0,o.up)("BaseFormField");return(0,o.wg)(),(0,o.j4)(c,{title:t.title,error:t.error},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("textarea",{class:"form__input form__input--area",placeholder:t.placeholder,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e)},null,8,hr),[[r.nr,t.dataValue]])])),_:1},8,["title","error"])}var gr={mixins:[dr]};const br=(0,g.Z)(gr,[["render",fr]]);var kr=br;const vr={class:"cart__order"},yr={key:0},wr={key:1};function Pr(t,e,a,r,s,l){return(0,o.wg)(),(0,o.iD)("li",vr,[(0,o._)("h3",null,(0,_.zw)(a.item.product.title),1),a.item.amount?((0,o.wg)(),(0,o.iD)("b",yr,(0,_.zw)(l.amountPriceFormat)+" ₽",1)):(0,o.kq)("",!0),a.item.quantity?((0,o.wg)(),(0,o.iD)("b",wr,(0,_.zw)(l.quantityPriceFormat)+" ₽",1)):(0,o.kq)("",!0),(0,o._)("span",null,"Артикул: "+(0,_.zw)(a.item.product.id),1)])}var Cr={props:["item"],computed:{amountPriceFormat(){return R(this.item.amount*this.item.product.price)},quantityPriceFormat(){return R(this.item.quantity*this.item.product.price)}}};const Dr=(0,g.Z)(Cr,[["render",Pr]]);var Ir=Dr,Fr={data(){return{formData:{},formError:{},formErrorMessage:"",cartLoding:!1}},components:{BaseFormText:mr,BaseFormTextarea:kr,CartItemForOrder:Ir},computed:{...(0,v.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice",totalAmount:"cartTotalAmount"}),totalPriceFormat(){return R(this.totalPrice)}},methods:{order(){this.cartLoding=!0,this.formErrorMessage="",this.formError={},$t.Z.post(`${Ut}/api/orders`,{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((t=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",t.data),this.$router.push({name:"orderInfo",params:{id:t.data.id}}),this.cartLoding=!1})).catch((t=>{this.cartLoding=!1,this.formError=t.response.data.error.request||{},this.formErrorMessage=t.response.data.error.message||""}))}}};const Ar=(0,g.Z)(Fr,[["render",er]]);var Vr=Ar;const zr={class:"content container"},Tr={class:"content__top"},$r={class:"breadcrumbs"},Ur={class:"breadcrumbs__item"},xr=(0,o.Uk)(" Каталог "),Kr={class:"breadcrumbs__item"},Er=(0,o.Uk)(" Корзина "),Lr=(0,o._)("li",{class:"breadcrumbs__item"},[(0,o._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),Mr={class:"content__title"},Or=(0,o.Uk)(" Заказ оформлен "),Zr={class:"cart"},Wr={class:"cart__form form",action:"#",method:"POST"},Sr={class:"cart__field"},qr=(0,o._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),jr={class:"dictionary"},Br={class:"dictionary__item"},Rr=(0,o._)("span",{class:"dictionary__key"}," Получатель ",-1),Hr={class:"dictionary__value"},Yr={class:"dictionary__item"},Nr=(0,o._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),Gr={class:"dictionary__value"},Qr={class:"dictionary__item"},Xr=(0,o._)("span",{class:"dictionary__key"}," Телефон ",-1),Jr={class:"dictionary__value"},to={class:"dictionary__item"},eo=(0,o._)("span",{class:"dictionary__key"}," Email ",-1),ao={class:"dictionary__value"},ro=(0,o._)("li",{class:"dictionary__item"},[(0,o._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,o._)("span",{class:"dictionary__value"}," картой при получении ")],-1),oo={class:"cart__block"},so={class:"cart__orders"},lo={class:"cart__total"},io=(0,o._)("p",null,[(0,o.Uk)("Доставка: "),(0,o._)("b",null,"500 ₽")],-1),co=(0,o.Uk)("Итого: "),no=(0,o.Uk)(" товаров на сумму ");function uo(t,e,a,r,s,l){const i=(0,o.up)("router-link"),c=(0,o.up)("CartItemForOrder");return(0,o.wg)(),(0,o.iD)("main",zr,[(0,o._)("div",Tr,[(0,o._)("ul",$r,[(0,o._)("li",Ur,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,o.w5)((()=>[xr])),_:1})]),(0,o._)("li",Kr,[(0,o.Wm)(i,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,o.w5)((()=>[Er])),_:1})]),Lr]),(0,o._)("h1",Mr,[Or,(0,o._)("span",null,"№ "+(0,_.zw)(this.$store.state.orderInfo.id),1)])]),(0,o._)("section",Zr,[(0,o._)("form",Wr,[(0,o._)("div",Sr,[qr,(0,o._)("ul",jr,[(0,o._)("li",Br,[Rr,(0,o._)("span",Hr,(0,_.zw)(t.$store.state.orderInfo.name),1)]),(0,o._)("li",Yr,[Nr,(0,o._)("span",Gr,(0,_.zw)(t.$store.state.orderInfo.address),1)]),(0,o._)("li",Qr,[Xr,(0,o._)("span",Jr,(0,_.zw)(t.$store.state.orderInfo.phone),1)]),(0,o._)("li",to,[eo,(0,o._)("span",ao,(0,_.zw)(t.$store.state.orderInfo.email),1)]),ro])]),(0,o._)("div",oo,[(0,o._)("ul",so,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.$store.state.orderInfo.basket.items,(t=>((0,o.wg)(),(0,o.j4)(c,{key:t.id,item:t},null,8,["item"])))),128))]),(0,o._)("div",lo,[io,(0,o._)("p",null,[co,(0,o._)("b",null,(0,_.zw)(l.totalAmount),1),no,(0,o._)("b",null,(0,_.zw)(l.totalPriceFormat)+" ₽",1)])])])])])])}var _o={components:{CartItemForOrder:Ir},created(){this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)},computed:{totalPrice(){return this.$store.state.orderInfo.basket.items.reduce(((t,e)=>e.price*e.quantity+t),0)},totalAmount(){return this.$store.state.orderInfo.basket.items.reduce(((t,e)=>e.quantity+t),0)},totalPriceFormat(){return R(this.totalPrice)}}};const po=(0,g.Z)(_o,[["render",uo]]);var mo=po,ho=a(3076),fo=a.n(ho);const go=[{name:"main",component:Ot,path:"/"},{name:"product",component:Me,path:"/product/:id"},{name:"notFound",component:qt,path:"/:pathMatch(.*)*"},{name:"cart",component:Fa,path:"/cart"},{name:"order",component:Vr,path:"/order"},{name:"orderInfo",component:mo,path:"/order/:id"}],bo=(0,C.p7)({history:(0,C.r5)(fo().publicPath),routes:go});var ko=bo,vo=(0,v.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:[],orderInfo:null},mutations:{updateOrderInfo(t,e){t.orderInfo=e},resetCart(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount(t,{productId:e,amount:a}){const r=t.cartProducts.find((t=>t.productId===e));r&&(r.amount=a)},deleteCartProduct(t,e){t.cartProducts=t.cartProducts.filter((t=>t.productId!==e))},updatUserAccessKey(t,e){t.userAccessKey=e},updateCartProductsData(t,e){t.cartProductsData=e},syncCartProducts(t){t.cartProducts=t.cartProductsData.map((t=>({productId:t.product.id,amount:t.quantity})))}},getters:{cartDetailProducts(t){return t.cartProducts.map((e=>{const{product:a}=t.cartProductsData.find((t=>t.product.id===e.productId));return{...e,product:{...a,image:a.image.file.url}}}))},cartTotalPrice(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.product.price*e.amount+t),0)},cartTotalAmount(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.amount+t),0)}},actions:{loadOrderInfo(t,e){return $t.Z.get(`${Ut}/api/orders/${e}`,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateOrderInfo",e.data)}))},loadCart(t){return $t.Z.get(`${Ut}/api/baskets`,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updatUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart(t,{productId:e,amount:a}){return new Promise((t=>{setTimeout(t,2e3)})).then((()=>$t.Z.post(`${Ut}/api/baskets/products`,{productId:e,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))))},updateCartProductsAmount(t,{productId:e,amount:a}){t.commit("updateCartProductAmount",{productId:e,amount:a}),a<1||$t.Z.put(`${Ut}/api/baskets/products`,{productId:e,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))},deleteFromCartProduct(t,e){return t.commit("deleteCartProduct",e),$t.Z["delete"](`${Ut}/api/baskets/products`,{data:{productId:e},params:{userAccessKey:t.state.userAccessKey}})}}});const yo=(0,r.ri)({render:()=>(0,o.h)(P)});yo.use(ko),yo.use(vo),yo.mount("#app")},3076:function(t){t.exports={publicPath:"/Vue-test/"}}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,r,o,s){if(!r){var l=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],s=t[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&s||l>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(i=!1,s<l&&(l=s));if(i){t.splice(u--,1);var n=o();void 0!==n&&(e=n)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,o,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/Vue-test/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,s,l=r[0],i=r[1],c=r[2],n=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var u=c(a)}for(e&&e(r);n<l.length;n++)s=l[n],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},r=self["webpackChunk_03_catalog"]=self["webpackChunk_03_catalog"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3737)}));r=a.O(r)})();
//# sourceMappingURL=app.1baa38de.js.map